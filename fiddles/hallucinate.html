<html><head>
    <!-- Primary Meta Tags -->
    <title>Hallucinating Animation</title>
    <meta name="title" content="Hallucinating Animation">
    <meta name="description" content="Trippy animation inspired by an /r/woahdude post">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://costas-basdekis.github.io/fiddles/fiddles/hallucinate.html">
    <meta property="og:title" content="Hallucinating Animation">
    <meta property="og:description" content="Trippy animation inspired by an /r/woahdude post">
    <meta property="og:image" content="https://costas-basdekis.github.io/fiddles/thumbnails/hallucinate.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://costas-basdekis.github.io/fiddles/fiddles/hallucinate.html">
    <meta property="twitter:title" content="Hallucinating Animation">
    <meta property="twitter:description" content="Trippy animation inspired by an /r/woahdude post">
    <meta property="twitter:image" content="https://costas-basdekis.github.io/fiddles/thumbnails/hallucinate.png">

    <script type="text/javascript" src="//unpkg.com/react/umd/react.development.js"></script>
    <script type="text/javascript" src="//unpkg.com/react-dom/umd/react-dom.development.js"></script>
    <script type="text/javascript" src="//unpkg.com/react-dom/umd/react-dom.development.js"></script>


  <style id="compiled-css" type="text/css">
      svg text {
  font: bold 60px sans-serif; }

pattern {
  /*.pattern-background {
    animation: glowBackground linear 5s infinite;
  }*/ }
  pattern.rainbow .pattern-foreground {
    animation: glow linear 5s infinite; }
  pattern:not(.rainbow) .pattern-foreground {
    fill: black;
    stroke: black; }

.background.rainbow {
  animation: glowBackground linear 5s infinite; }

.background:not(.rainbow) {
  fill: white; }

@keyframes glow {
  0% {
    stroke: #8C00FC; }
  16.6666666667% {
    stroke: #3500FF; }
  33.3333333333% {
    stroke: #01FE01; }
  50% {
    stroke: #FFFE37; }
  66.6666666667% {
    stroke: #FF8600; }
  83.3333333333% {
    stroke: #ED0003; }
  100% {
    stroke: #8C00FC; } }

@keyframes glowBackground {
  0% {
    fill: #ED0003;
    stroke: #ED0003; }
  16.6666666667% {
    fill: #FF8600;
    stroke: #FF8600; }
  33.3333333333% {
    fill: #FFFE37;
    stroke: #FFFE37; }
  50% {
    fill: #01FE01;
    stroke: #01FE01; }
  66.6666666667% {
    fill: #3500FF;
    stroke: #3500FF; }
  83.3333333333% {
    fill: #8C00FC;
    stroke: #8C00FC; }
  100% {
    fill: #ED0003;
    stroke: #ED0003; } }

.controls {
  position: absolute;
  background: white;
  padding: 0.5em;
  border: 1px solid grey; }
  .controls .button {
    cursor: pointer; }
  .controls .controls-panel {
    display: inline-block;
    vertical-align: text-top; }

    /* EOS */
  </style>

  <script id="insert"></script>

  <script>var _class2, _temp3, _class4, _temp5;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

//<![CDATA[


const DEFAULT_SETTINGS = {
  rainbow: true,
  spacing: 16,
  angle: 135,
  fontSize: 10,
  text: "ARE YOU\nHALUCINATING?" + "\n--\nARE YOU\nHIGH?" + "\n--\nARE YOU\nTHERE?"
};

function getInitialSettings() {
  const initialSettings = _extends({}, DEFAULT_SETTINGS);
  try {
    const hrefSettings = getHrefSettings();
    Object.assign(initialSettings, hrefSettings);
  } catch (e) {
    console.error("Could not parse query params");
  }

  return initialSettings;
}

function getHrefSettings() {
  if (isEmbedded) {
    console.error("Cannot access query params from embedded frame");
    return {};
  }
  const search = top.location.search;
  const params = [...new URLSearchParams(search).entries()];
  const settingsParams = params.filter(([key]) => DEFAULT_SETTINGS.hasOwnProperty(key));
  const settings = Object.fromEntries(settingsParams);
  console.log('Got settings:', settings);

  return settings;
}

function getIsEmbedded() {
  try {
    return !top.location.href;
  } catch (e) {
    return true;
  }
}

const isEmbedded = getIsEmbedded();

let App = class App extends React.Component {
  constructor(...args) {
    var _temp;

    return _temp = super(...args), this.state = {
      settings: getInitialSettings()
    }, this.updateSettings = newSettings => {
      this.setState({ settings: newSettings });
    }, _temp;
  }

  render() {
    const { settings } = this.state;
    return React.createElement(
      React.Fragment,
      null,
      React.createElement(Settings, {
        settings: settings, updateSettings: this.updateSettings }),
      React.createElement(
        "svg",
        { width: "100vw", height: "100vh" },
        React.createElement(Background, { settings: settings }),
        React.createElement(MainText, { settings: settings })
      )
    );
  }
};
let Settings = (_temp3 = _class2 = class Settings extends React.Component {
  constructor(...args) {
    var _temp2;

    return _temp2 = super(...args), this.state = {
      open: false
    }, this.toggleOpen = () => {
      this.setState(({ open }) => ({ open: !open }));
    }, this.updateSetting = (name, value) => {
      const { settings } = this.props;
      this.props.updateSettings(_extends({}, settings, { [name]: value }));
    }, this.createUpdateSettings = (name, modifyValue = value => value, getValue = ({ value }) => value) => {
      return ({ target }) => {
        this.updateSetting(name, modifyValue(getValue(target)));
      };
    }, this.updateRainbow = this.createUpdateSettings('rainbow', undefined, ({ checked }) => checked), this.updateSpacing = this.createUpdateSettings('spacing', value => parseInt(value, 10)), this.updateAngle = this.createUpdateSettings('angle', value => parseInt(value, 10)), this.updateFontSize = this.createUpdateSettings('fontSize', value => parseInt(value, 10)), this.updateText = this.createUpdateSettings('text'), _temp2;
  }

  render() {
    const { links } = this.constructor;
    const { open } = this.state;
    const { settings } = this.props;
    const { rainbow, spacing, angle, fontSize, text } = settings;
    const textLinesGroups = text.split("--").map(groupText => groupText.trim().split("\n"));

    return React.createElement(
      "div",
      { className: "controls" },
      React.createElement(
        "div",
        null,
        React.createElement(
          "span",
          { className: "button", onClick: this.toggleOpen },
          React.createElement(SliderIcon, null)
        ),
        !open ? null : React.createElement(
          React.Fragment,
          null,
          "Inspired by an",
          " ",
          React.createElement(
            "a",
            { href: links.redditPost, target: "_blank" },
            "/r/woahdude post"
          ),
          ", edit on",
          " ",
          React.createElement(
            "a",
            { href: links.jsFiddle, target: "_blank" },
            "JSFiddle"
          )
        )
      ),
      !open ? null : React.createElement(
        React.Fragment,
        null,
        React.createElement(
          "div",
          { className: "controls-panel" },
          React.createElement(
            "label",
            null,
            "Rainbow",
            React.createElement("input", {
              type: "checkbox", defaultChecked: rainbow,
              onChange: this.updateRainbow })
          ),
          React.createElement("br", null),
          React.createElement(
            "label",
            null,
            "Spacing",
            React.createElement("input", {
              type: "range", min: 0, max: 100, defaultValue: spacing,
              onChange: this.updateSpacing }),
            spacing
          ),
          React.createElement("br", null),
          React.createElement(
            "label",
            null,
            "Angle",
            React.createElement("input", {
              type: "range", min: 0, max: 180, defaultValue: angle,
              onChange: this.updateAngle }),
            angle
          ),
          React.createElement("br", null),
          React.createElement(
            "label",
            null,
            "Font size",
            React.createElement("input", {
              type: "range", min: 0, max: 150, defaultValue: fontSize,
              onChange: this.updateFontSize }),
            fontSize
          )
        ),
        React.createElement(
          "div",
          { className: "controls-panel" },
          React.createElement("textarea", {
            defaultValue: text,
            rows: 4,
            onChange: this.updateText })
        ),
        React.createElement(
          "div",
          null,
          isEmbedded ? React.createElement(
            React.Fragment,
            null,
            "Cannot share your settings while embedded"
          ) : React.createElement(
            React.Fragment,
            null,
            "Get a ",
            React.createElement(
              "a",
              { href: `?${new URLSearchParams(settings).toString()}` },
              "sharing link"
            ),
            " with these settings."
          )
        )
      )
    );
  }
}, _class2.links = {
  redditPost: "https://www.reddit.com/r/woahdude/comments/liu20a/can_you_read_this/",
  jsFiddle: "https://jsfiddle.net/costasb/6fq2mz4j/"
}, _temp3);
let Background = class Background extends React.Component {
  render() {
    const { settings } = this.props;
    const { rainbow, spacing, angle } = settings;

    return React.createElement(
      React.Fragment,
      null,
      React.createElement(HatchPattern, {
        name: "diagonalHatch",
        spacing: spacing, angle: angle, rainbow: rainbow }),
      React.createElement("rect", {
        className: ["background", rainbow ? "rainbow" : null].filter(name => name).join(" "),
        x: 0, y: 0, width: "100%", height: "100%"
      }),
      React.createElement("rect", {
        x: 0, y: 0, width: "100%", height: "100%",
        fill: "url(#diagonalHatch)" })
    );
  }
};
let MainText = class MainText extends React.Component {
  constructor(...args) {
    var _temp4;

    return _temp4 = super(...args), this.state = {
      groupIndex: 0
    }, this.indexInterval = null, this.rotateGroup = () => {
      this.setState(({ groupIndex }) => {
        const { text } = this.props.settings;
        const textLinesGroups = text.split("--").map(groupText => groupText.trim().split("\n"));
        return {
          groupIndex: (groupIndex + 1) % textLinesGroups.length
        };
      });
    }, _temp4;
  }

  componentDidMount() {
    this.startInterval();
  }

  componentWillUnmount() {
    this.stopInterval();
  }

  startInterval() {
    this.stopInterval();
    this.indexInterval = setInterval(this.rotateGroup, 2500);
  }

  stopInterval() {
    if (this.indexInterval) {
      clearInterval(this.indexInterval);
      this.indexInterval = null;
    }
  }

  render() {
    const { groupIndex } = this.state;
    const { settings } = this.props;
    const { rainbow, spacing, angle, fontSize, text } = settings;
    const textLinesGroups = text.split("--").map(groupText => groupText.trim().split("\n"));

    if (groupIndex >= textLinesGroups.length) {
      return null;
    }

    return React.createElement(
      React.Fragment,
      null,
      React.createElement(HatchPattern, {
        name: "crossDiagonalHatch", rainbow: rainbow,
        spacing: spacing, angle: angle + 90 }),
      textLinesGroups[groupIndex].map((line, index, { length }) => React.createElement(
        React.Fragment,
        { key: index },
        React.createElement(
          "text",
          {
            className: ["background", rainbow ? "rainbow" : null].filter(name => name).join(" "),
            x: "50%", y: "50%",
            dy: `${-0.5 * (length - 1) + index}em`,
            dominantBaseline: "middle", textAnchor: "middle",
            strokeWidth: 0,
            style: { fontSize: `${fontSize}vw` }
          },
          line
        ),
        React.createElement(
          "text",
          {
            className: "foreground",
            x: "50%", y: "50%",
            dy: `${-0.5 * (length - 1) + index}em`,
            dominantBaseline: "middle", textAnchor: "middle",
            fill: "url(#crossDiagonalHatch)",
            strokeWidth: 0,
            style: { fontSize: `${fontSize}vw` }
          },
          line
        )
      ))
    );
  }
};
let HatchPattern = class HatchPattern extends React.Component {
  render() {
    const { spacing = 4, angle = 45, rainbow = true, name } = this.props;

    return React.createElement(
      "pattern",
      {
        id: name, width: spacing, height: spacing,
        className: rainbow ? "rainbow" : "",
        x: "50%", y: "50%",
        patternTransform: `rotate(${angle} 0 0)`,
        patternUnits: "userSpaceOnUse" },
      React.createElement("line", {
        className: "pattern-foreground",
        x1: 0, y1: 0, x2: 0, y2: spacing,
        style: { strokeWidth: spacing } })
    );
  }
};
let SliderIcon = (_temp5 = _class4 = class SliderIcon extends React.Component {

  render() {
    return this.constructor.content;
  }
}, _class4.content = React.createElement(
  "svg",
  { height: "16pt", viewBox: "0 0 512 512" },
  React.createElement("path", { className: "slider-icon", d: "m0 58c0-11.046875 8.953125-20 20-20h56v-18c0-11.046875 8.953125-20 20-20s20 8.953125 20 20v18h376c11.046875 0 20 8.953125 20 20s-8.953125 20-20 20h-376v18c0 11.046875-8.953125 20-20 20s-20-8.953125-20-20v-18h-56c-11.046875 0-20-8.953125-20-20zm492 376h-56v-18c0-11.046875-8.953125-20-20-20s-20 8.953125-20 20v18h-376c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h376v18c0 11.046875 8.953125 20 20 20s20-8.953125 20-20v-18h56c11.046875 0 20-8.953125 20-20s-8.953125-20-20-20zm0-198h-216v-18c0-11.046875-8.953125-20-20-20s-20 8.953125-20 20v18h-216c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h216v18c0 11.046875 8.953125 20 20 20s20-8.953125 20-20v-18h216c11.046875 0 20-8.953125 20-20s-8.953125-20-20-20zm0 0" })
), _temp5);


ReactDOM.render(React.createElement(App, null), document.querySelector("#app"));

//]]>
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwibmFtZXMiOlsiREVGQVVMVF9TRVRUSU5HUyIsInJhaW5ib3ciLCJzcGFjaW5nIiwiYW5nbGUiLCJmb250U2l6ZSIsInRleHQiLCJnZXRJbml0aWFsU2V0dGluZ3MiLCJpbml0aWFsU2V0dGluZ3MiLCJocmVmU2V0dGluZ3MiLCJnZXRIcmVmU2V0dGluZ3MiLCJPYmplY3QiLCJhc3NpZ24iLCJlIiwiY29uc29sZSIsImVycm9yIiwiaXNFbWJlZGRlZCIsInNlYXJjaCIsInRvcCIsImxvY2F0aW9uIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiZW50cmllcyIsInNldHRpbmdzUGFyYW1zIiwiZmlsdGVyIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJzZXR0aW5ncyIsImZyb21FbnRyaWVzIiwibG9nIiwiZ2V0SXNFbWJlZGRlZCIsImhyZWYiLCJBcHAiLCJSZWFjdCIsIkNvbXBvbmVudCIsInN0YXRlIiwidXBkYXRlU2V0dGluZ3MiLCJuZXdTZXR0aW5ncyIsInNldFN0YXRlIiwicmVuZGVyIiwiU2V0dGluZ3MiLCJvcGVuIiwidG9nZ2xlT3BlbiIsInVwZGF0ZVNldHRpbmciLCJuYW1lIiwidmFsdWUiLCJwcm9wcyIsImNyZWF0ZVVwZGF0ZVNldHRpbmdzIiwibW9kaWZ5VmFsdWUiLCJnZXRWYWx1ZSIsInRhcmdldCIsInVwZGF0ZVJhaW5ib3ciLCJ1bmRlZmluZWQiLCJjaGVja2VkIiwidXBkYXRlU3BhY2luZyIsInBhcnNlSW50IiwidXBkYXRlQW5nbGUiLCJ1cGRhdGVGb250U2l6ZSIsInVwZGF0ZVRleHQiLCJsaW5rcyIsImNvbnN0cnVjdG9yIiwidGV4dExpbmVzR3JvdXBzIiwic3BsaXQiLCJtYXAiLCJncm91cFRleHQiLCJ0cmltIiwicmVkZGl0UG9zdCIsImpzRmlkZGxlIiwidG9TdHJpbmciLCJCYWNrZ3JvdW5kIiwiam9pbiIsIk1haW5UZXh0IiwiZ3JvdXBJbmRleCIsImluZGV4SW50ZXJ2YWwiLCJyb3RhdGVHcm91cCIsImxlbmd0aCIsImNvbXBvbmVudERpZE1vdW50Iiwic3RhcnRJbnRlcnZhbCIsImNvbXBvbmVudFdpbGxVbm1vdW50Iiwic3RvcEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwibGluZSIsImluZGV4IiwiSGF0Y2hQYXR0ZXJuIiwic3Ryb2tlV2lkdGgiLCJTbGlkZXJJY29uIiwiY29udGVudCIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7OztBQUdBLE1BQU1BLG1CQUFtQjtBQUN2QkMsV0FBUyxJQURjO0FBRXZCQyxXQUFTLEVBRmM7QUFHdkJDLFNBQU8sR0FIZ0I7QUFJdkJDLFlBQVUsRUFKYTtBQUt2QkMsUUFDQywyQkFDRyxzQkFESCxHQUVHO0FBUm1CLENBQXpCOztBQVlBLFNBQVNDLGtCQUFULEdBQThCO0FBQzdCLFFBQU1DLCtCQUFzQlAsZ0JBQXRCLENBQU47QUFDQyxNQUFJO0FBQ0gsVUFBTVEsZUFBZUMsaUJBQXJCO0FBQ0NDLFdBQU9DLE1BQVAsQ0FBY0osZUFBZCxFQUErQkMsWUFBL0I7QUFDRCxHQUhELENBR0UsT0FBT0ksQ0FBUCxFQUFVO0FBQ1hDLFlBQVFDLEtBQVIsQ0FBYyw4QkFBZDtBQUNBOztBQUVELFNBQU9QLGVBQVA7QUFDRDs7QUFFRCxTQUFTRSxlQUFULEdBQTJCO0FBQzFCLE1BQUlNLFVBQUosRUFBZ0I7QUFDZEYsWUFBUUMsS0FBUixDQUFjLGdEQUFkO0FBQ0MsV0FBTyxFQUFQO0FBQ0Y7QUFDRCxRQUFNRSxTQUFTQyxJQUFJQyxRQUFKLENBQWFGLE1BQTVCO0FBQ0MsUUFBTUcsU0FBUyxDQUFDLEdBQUcsSUFBSUMsZUFBSixDQUFvQkosTUFBcEIsRUFBNEJLLE9BQTVCLEVBQUosQ0FBZjtBQUNBLFFBQU1DLGlCQUFpQkgsT0FBT0ksTUFBUCxDQUN0QixDQUFDLENBQUNDLEdBQUQsQ0FBRCxLQUFXeEIsaUJBQWlCeUIsY0FBakIsQ0FBZ0NELEdBQWhD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MEMsSUFBcEMsS0FBNEMsS0FBS0UsS0FBdkQ7O0FBRUEsV0FDRTtBQUFBO0FBQUE7QUFDRyxZQUFJRixJQURQLEVBQ2EsT0FBT3pDLE9BRHBCLEVBQzZCLFFBQVFBLE9BRHJDO0FBRUcsbUJBQVdELFVBQVUsU0FBVixHQUFzQixFQUZwQztBQUdHLFdBQUcsS0FITixFQUdhLEdBQUcsS0FIaEI7QUFJRywwQkFBbUIsVUFBU0UsS0FBTSxPQUpyQztBQUtHLHNCQUFjLGdCQUxqQjtBQVVLO0FBQ0UsbUJBQVcsb0JBRGI7QUFFRSxZQUFJLENBRk4sRUFFUyxJQUFJLENBRmIsRUFFZ0IsSUFBSSxDQUZwQixFQUV1QixJQUFJRCxPQUYzQjtBQUdFLGVBQU8sRUFBQ2tGLGFBQWFsRixPQUFkLEVBSFQ7QUFWTCxLQURGO0FBaUJBO0FBckJ3QyxDO0lBd0JyQ21GLFUsdUJBQU4sTUFBTUEsVUFBTixTQUF5QnJELE1BQU1DLFNBQS9CLENBQXlDOztBQUd2Q0ssV0FBUztBQUNSLFdBQU8sS0FBS3FCLFdBQUwsQ0FBaUIyQixPQUF4QjtBQUNBO0FBTHNDLEMsVUFDbENBLE8sR0FBVTtBQUFBO0FBQUEsSUFBSyxRQUFPLE1BQVosRUFBbUIsU0FBUSxhQUEzQjtBQUEwQyxnQ0FBTSxXQUFVLGFBQWhCLEVBQThCLEdBQUUsNnNCQUFoQztBQUExQyxDOzs7QUFPakJDLFNBQVNqRCxNQUFULENBQWdCLG9CQUFDLEdBQUQsT0FBaEIsRUFBeUJrRCxTQUFTQyxhQUFULENBQXVCLE1BQXZCLENBQXpCOztBQUlFIiwiZmlsZSI6IklubGluZSBCYWJlbCBzY3JpcHQiLCJzb3VyY2VzQ29udGVudCI6WyIvLzwhW0NEQVRBW1xuXG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG4gIHJhaW5ib3c6IHRydWUsXG4gIHNwYWNpbmc6IDE2LFxuICBhbmdsZTogMTM1LFxuICBmb250U2l6ZTogMTAsXG4gIHRleHQ6IChcbiAgXHRcIkFSRSBZT1VcXG5IQUxVQ0lOQVRJTkc/XCJcbiAgICArIFwiXFxuLS1cXG5BUkUgWU9VXFxuSElHSD9cIlxuICAgICsgXCJcXG4tLVxcbkFSRSBZT1VcXG5USEVSRT9cIlxuICApLFxufTtcblxuZnVuY3Rpb24gZ2V0SW5pdGlhbFNldHRpbmdzKCkge1xuXHRjb25zdCBpbml0aWFsU2V0dGluZ3MgPSB7Li4uREVGQVVMVF9TRVRUSU5HU307XG4gIHRyeSB7XG4gIFx0Y29uc3QgaHJlZlNldHRpbmdzID0gZ2V0SHJlZlNldHRpbmdzKCk7XG4gICAgT2JqZWN0LmFzc2lnbihpbml0aWFsU2V0dGluZ3MsIGhyZWZTZXR0aW5ncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgXHRjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IHBhcnNlIHF1ZXJ5IHBhcmFtc1wiKTtcbiAgfVxuICBcbiAgcmV0dXJuIGluaXRpYWxTZXR0aW5nc1xufVxuXG5mdW5jdGlvbiBnZXRIcmVmU2V0dGluZ3MoKSB7XG5cdGlmIChpc0VtYmVkZGVkKSB7XG4gIFx0Y29uc29sZS5lcnJvcihcIkNhbm5vdCBhY2Nlc3MgcXVlcnkgcGFyYW1zIGZyb20gZW1iZWRkZWQgZnJhbWVcIik7XG4gICBcdHJldHVybiB7fTtcblx0fVxuXHRjb25zdCBzZWFyY2ggPSB0b3AubG9jYXRpb24uc2VhcmNoO1xuICBjb25zdCBwYXJhbXMgPSBbLi4ubmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpLmVudHJpZXMoKV07XG4gIGNvbnN0IHNldHRpbmdzUGFyYW1zID0gcGFyYW1zLmZpbHRlcihcbiAgXHQoW2tleV0pID0+IERFRkFVTFRfU0VUVElOR1MuaGFzT3duUHJvcGVydHkoa2V5KSk7XG4gIGNvbnN0IHNldHRpbmdzID0gT2JqZWN0LmZyb21FbnRyaWVzKHNldHRpbmdzUGFyYW1zKTtcbiAgY29uc29sZS5sb2coJ0dvdCBzZXR0aW5nczonLCBzZXR0aW5ncyk7XG4gIFxuICByZXR1cm4gc2V0dGluZ3M7XG59XG5cbmZ1bmN0aW9uIGdldElzRW1iZWRkZWQoKSB7XG5cdHRyeSB7XG4gIFx0cmV0dXJuICF0b3AubG9jYXRpb24uaHJlZjtcbiAgfSBjYXRjaChlKSB7XG4gIFx0cmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY29uc3QgaXNFbWJlZGRlZCA9IGdldElzRW1iZWRkZWQoKTtcblxuY2xhc3MgQXBwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0c3RhdGUgPSB7XG4gIFx0c2V0dGluZ3M6IGdldEluaXRpYWxTZXR0aW5ncygpLFxuICB9O1xuICBcbiAgdXBkYXRlU2V0dGluZ3MgPSBuZXdTZXR0aW5ncyA9PiB7XG4gIFx0dGhpcy5zZXRTdGF0ZSh7c2V0dGluZ3M6IG5ld1NldHRpbmdzfSk7XG4gIH07XG4gIFxuXHRyZW5kZXIoKSB7XG4gIFx0Y29uc3Qge3NldHRpbmdzfSA9IHRoaXMuc3RhdGU7XG4gIFx0cmV0dXJuIChcbiAgICBcdDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPFNldHRpbmdzIFxuICAgICAgICAgIHNldHRpbmdzPXtzZXR0aW5nc30gdXBkYXRlU2V0dGluZ3M9e3RoaXMudXBkYXRlU2V0dGluZ3N9IC8+XG4gICAgICAgIDxzdmcgd2lkdGg9e1wiMTAwdndcIn0gaGVpZ2h0PXtcIjEwMHZoXCJ9PlxuICAgICAgICAgIDxCYWNrZ3JvdW5kIHNldHRpbmdzPXtzZXR0aW5nc30gLz5cbiAgICAgICAgICA8TWFpblRleHQgc2V0dGluZ3M9e3NldHRpbmdzfSAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBTZXR0aW5ncyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRpYyBsaW5rcyA9IHtcbiAgXHRyZWRkaXRQb3N0OiBcImh0dHBzOi8vd3d3LnJlZGRpdC5jb20vci93b2FoZHVkZS9jb21tZW50cy9saXUyMGEvY2FuX3lvdV9yZWFkX3RoaXMvXCIsXG4gICAganNGaWRkbGU6IFwiaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvY29zdGFzYi82ZnEybXo0ai9cIixcbiAgfTtcbiAgXG5cdHN0YXRlID0ge1xuICBcdG9wZW46IGZhbHNlLFxuICB9O1xuICBcbiAgdG9nZ2xlT3BlbiA9ICgpID0+IHtcbiAgXHR0aGlzLnNldFN0YXRlKCh7b3Blbn0pID0+ICh7b3BlbjogIW9wZW59KSlcbiAgfTtcbiAgXG4gIHVwZGF0ZVNldHRpbmcgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgXHRjb25zdCB7c2V0dGluZ3N9ID0gdGhpcy5wcm9wcztcbiAgXHR0aGlzLnByb3BzLnVwZGF0ZVNldHRpbmdzKHsuLi5zZXR0aW5ncywgW25hbWVdOiB2YWx1ZX0pO1xuICB9O1xuICBcbiAgY3JlYXRlVXBkYXRlU2V0dGluZ3MgPSAobmFtZSwgbW9kaWZ5VmFsdWUgPSB2YWx1ZSA9PiB2YWx1ZSwgZ2V0VmFsdWUgPSAoe3ZhbHVlfSkgPT4gdmFsdWUpID0+IHtcbiAgXHRyZXR1cm4gKHt0YXJnZXR9KSA9PiB7XG4gICAgXHR0aGlzLnVwZGF0ZVNldHRpbmcobmFtZSwgbW9kaWZ5VmFsdWUoZ2V0VmFsdWUodGFyZ2V0KSkpO1xuICAgIH07XG4gIH07XG4gIFxuICB1cGRhdGVSYWluYm93ID0gdGhpcy5jcmVhdGVVcGRhdGVTZXR0aW5ncygncmFpbmJvdycsIHVuZGVmaW5lZCwgKHtjaGVja2VkfSkgPT4gY2hlY2tlZCk7XG4gIFxuICB1cGRhdGVTcGFjaW5nID0gdGhpcy5jcmVhdGVVcGRhdGVTZXR0aW5ncygnc3BhY2luZycsIHZhbHVlID0+IHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICBcbiAgdXBkYXRlQW5nbGUgPSB0aGlzLmNyZWF0ZVVwZGF0ZVNldHRpbmdzKCdhbmdsZScsIHZhbHVlID0+IHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICBcbiAgdXBkYXRlRm9udFNpemUgPSB0aGlzLmNyZWF0ZVVwZGF0ZVNldHRpbmdzKCdmb250U2l6ZScsIHZhbHVlID0+IHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICBcbiAgdXBkYXRlVGV4dCA9IHRoaXMuY3JlYXRlVXBkYXRlU2V0dGluZ3MoJ3RleHQnKTtcbiAgXG5cdHJlbmRlcigpIHtcbiAgXHRjb25zdCB7bGlua3N9ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgXHRjb25zdCB7b3Blbn0gPSB0aGlzLnN0YXRlO1xuICBcdGNvbnN0IHtzZXR0aW5nc30gPSB0aGlzLnByb3BzO1xuICBcdGNvbnN0IHtyYWluYm93LCBzcGFjaW5nLCBhbmdsZSwgZm9udFNpemUsIHRleHR9ID0gc2V0dGluZ3M7XG4gICAgY29uc3QgdGV4dExpbmVzR3JvdXBzID0gdGV4dFxuICAgIFx0LnNwbGl0KFwiLS1cIilcbiAgICAgIC5tYXAoZ3JvdXBUZXh0ID0+IGdyb3VwVGV4dC50cmltKCkuc3BsaXQoXCJcXG5cIikpO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17XCJjb250cm9sc1wifT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1wiYnV0dG9uXCJ9IG9uQ2xpY2s9e3RoaXMudG9nZ2xlT3Blbn0+XG4gICAgICAgICAgICA8U2xpZGVySWNvbiAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgeyFvcGVuID8gbnVsbCA6IChcbiAgICAgICAgXHQ8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICBJbnNwaXJlZCBieSBhbntcIiBcIn1cbiAgICAgICAgICAgIDxhIGhyZWY9e2xpbmtzLnJlZGRpdFBvc3R9IHRhcmdldD17XCJfYmxhbmtcIn0+L3Ivd29haGR1ZGUgcG9zdDwvYT5cbiAgICAgICAgICAgICwgZWRpdCBvbntcIiBcIn1cbiAgICAgICAgICAgIDxhIGhyZWY9e2xpbmtzLmpzRmlkZGxlfSB0YXJnZXQ9e1wiX2JsYW5rXCJ9PkpTRmlkZGxlPC9hPlxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7IW9wZW4gPyBudWxsIDogKFxuICAgICAgICBcdDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbnRyb2xzLXBhbmVsXCJ9PlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgUmFpbmJvd1xuICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgIHR5cGU9e1wiY2hlY2tib3hcIn0gZGVmYXVsdENoZWNrZWQ9e3JhaW5ib3d9IFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBkYXRlUmFpbmJvd30gLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBTcGFjaW5nXG4gICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgdHlwZT17XCJyYW5nZVwifSBtaW49ezB9IG1heD17MTAwfSBkZWZhdWx0VmFsdWU9e3NwYWNpbmd9IFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBkYXRlU3BhY2luZ30gLz5cbiAgICAgICAgICAgICAgICB7c3BhY2luZ31cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBBbmdsZVxuICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgIHR5cGU9e1wicmFuZ2VcIn0gbWluPXswfSBtYXg9ezE4MH0gZGVmYXVsdFZhbHVlPXthbmdsZX0gXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVBbmdsZX0gLz5cbiAgICAgICAgICAgICAgICB7YW5nbGV9XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgRm9udCBzaXplXG4gICAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgICAgdHlwZT17XCJyYW5nZVwifSBtaW49ezB9IG1heD17MTUwfSBkZWZhdWx0VmFsdWU9e2ZvbnRTaXplfSBcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZUZvbnRTaXplfSAvPlxuICAgICAgICAgICAgICAgIHtmb250U2l6ZX1cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiY29udHJvbHMtcGFuZWxcIn0+XG4gICAgICAgICAgICAgIDx0ZXh0YXJlYSBcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3RleHR9IFxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBkYXRlVGV4dH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAge2lzRW1iZWRkZWQgPyAoXG4gICAgICAgICAgICAgIFx0PFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgQ2Fubm90IHNoYXJlIHlvdXIgc2V0dGluZ3Mgd2hpbGUgZW1iZWRkZWRcbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBcdDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgIEdldCBhIDxhIGhyZWY9e2A/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHNldHRpbmdzKS50b1N0cmluZygpfWB9PnNoYXJpbmcgbGluazwvYT4gd2l0aCB0aGVzZSBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgQmFja2dyb3VuZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHJlbmRlcigpIHtcbiAgXHRjb25zdCB7c2V0dGluZ3N9ID0gdGhpcy5wcm9wcztcbiAgXHRjb25zdCB7cmFpbmJvdywgc3BhY2luZywgYW5nbGV9ID0gc2V0dGluZ3M7XG4gICAgXG4gIFx0cmV0dXJuIChcbiAgICBcdDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPEhhdGNoUGF0dGVybiBcbiAgICAgICAgICBuYW1lPXtcImRpYWdvbmFsSGF0Y2hcIn0gXG4gICAgICAgICAgc3BhY2luZz17c3BhY2luZ30gYW5nbGU9e2FuZ2xlfSByYWluYm93PXtyYWluYm93fSAvPlxuICAgICAgICA8cmVjdCBcbiAgICAgICAgICBjbGFzc05hbWU9e1tcImJhY2tncm91bmRcIiwgcmFpbmJvdyA/IFwicmFpbmJvd1wiIDogbnVsbF0uZmlsdGVyKG5hbWUgPT4gbmFtZSkuam9pbihcIiBcIil9XG4gICAgICAgICAgeD17MH0geT17MH0gd2lkdGg9e1wiMTAwJVwifSBoZWlnaHQ9e1wiMTAwJVwifVxuICAgICAgICAgIC8+XG4gICAgICAgIDxyZWN0IFxuICAgICAgICAgIHg9ezB9IHk9ezB9IHdpZHRoPXtcIjEwMCVcIn0gaGVpZ2h0PXtcIjEwMCVcIn1cbiAgICAgICAgICBmaWxsPXtcInVybCgjZGlhZ29uYWxIYXRjaClcIn0gLz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBNYWluVGV4dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHN0YXRlID0ge1xuICBcdGdyb3VwSW5kZXg6IDAsXG4gIH07XG4gIFxuICBpbmRleEludGVydmFsID0gbnVsbDtcbiAgXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICBcdHRoaXMuc3RhcnRJbnRlcnZhbCgpO1xuICB9XG4gIFxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgXHR0aGlzLnN0b3BJbnRlcnZhbCgpXG4gIH1cbiAgXG4gIHN0YXJ0SW50ZXJ2YWwoKSB7XG4gIFx0dGhpcy5zdG9wSW50ZXJ2YWwoKTtcbiAgICB0aGlzLmluZGV4SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnJvdGF0ZUdyb3VwLCAyNTAwKTtcbiAgfVxuICBcbiAgc3RvcEludGVydmFsKCkge1xuICBcdGlmICh0aGlzLmluZGV4SW50ZXJ2YWwpIHtcbiAgICBcdGNsZWFySW50ZXJ2YWwodGhpcy5pbmRleEludGVydmFsKTtcbiAgICAgIHRoaXMuaW5kZXhJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG4gIFxuICByb3RhdGVHcm91cCA9ICgpID0+IHtcbiAgXHR0aGlzLnNldFN0YXRlKCh7Z3JvdXBJbmRleH0pID0+IHtcbiAgICBcdGNvbnN0IHt0ZXh0fSA9IHRoaXMucHJvcHMuc2V0dGluZ3M7XG4gICAgICBjb25zdCB0ZXh0TGluZXNHcm91cHMgPSB0ZXh0XG4gICAgICAgIC5zcGxpdChcIi0tXCIpXG4gICAgICAgIC5tYXAoZ3JvdXBUZXh0ID0+IGdyb3VwVGV4dC50cmltKCkuc3BsaXQoXCJcXG5cIikpO1xuICAgIFx0cmV0dXJuIHtcbiAgICAgICAgZ3JvdXBJbmRleDogKGdyb3VwSW5kZXggKyAxKSAlIHRleHRMaW5lc0dyb3Vwcy5sZW5ndGgsXG4gICAgICB9O1xuICAgIH0pXG4gIH07XG4gIFxuXHRyZW5kZXIoKSB7XG4gIFx0Y29uc3Qge2dyb3VwSW5kZXh9ID0gdGhpcy5zdGF0ZTtcbiAgXHRjb25zdCB7c2V0dGluZ3N9ID0gdGhpcy5wcm9wcztcbiAgXHRjb25zdCB7cmFpbmJvdywgc3BhY2luZywgYW5nbGUsIGZvbnRTaXplLCB0ZXh0fSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHRleHRMaW5lc0dyb3VwcyA9IHRleHRcbiAgICBcdC5zcGxpdChcIi0tXCIpXG4gICAgICAubWFwKGdyb3VwVGV4dCA9PiBncm91cFRleHQudHJpbSgpLnNwbGl0KFwiXFxuXCIpKTtcbiAgICBcbiAgICBpZiAoZ3JvdXBJbmRleCA+PSB0ZXh0TGluZXNHcm91cHMubGVuZ3RoKSB7XG4gICAgXHRyZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gIFx0cmV0dXJuIChcbiAgICBcdDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPEhhdGNoUGF0dGVybiBcbiAgICAgICAgICBuYW1lPXtcImNyb3NzRGlhZ29uYWxIYXRjaFwifSByYWluYm93PXtyYWluYm93fVxuICAgICAgICAgIHNwYWNpbmc9e3NwYWNpbmd9IGFuZ2xlPXthbmdsZSArIDkwfSAvPlxuICAgICAgICB7dGV4dExpbmVzR3JvdXBzW2dyb3VwSW5kZXhdLm1hcCgobGluZSwgaW5kZXgsIHtsZW5ndGh9KSA9PiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgPHRleHQgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17W1wiYmFja2dyb3VuZFwiLCByYWluYm93ID8gXCJyYWluYm93XCIgOiBudWxsXS5maWx0ZXIobmFtZSA9PiBuYW1lKS5qb2luKFwiIFwiKX1cbiAgICAgICAgICAgICAgeD17XCI1MCVcIn0geT17XCI1MCVcIn0gXG4gICAgICAgICAgICAgIGR5PXtgJHstMC41ICogKGxlbmd0aCAtIDEpICsgaW5kZXh9ZW1gfVxuICAgICAgICAgICAgICBkb21pbmFudEJhc2VsaW5lPVwibWlkZGxlXCIgdGV4dEFuY2hvcj1cIm1pZGRsZVwiXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXswfVxuICAgICAgICAgICAgICBzdHlsZT17e2ZvbnRTaXplOiBgJHtmb250U2l6ZX12d2B9fVxuICAgICAgICAgICAgPntsaW5lfTwvdGV4dD5cbiAgICAgICAgICAgIDx0ZXh0IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9e1wiZm9yZWdyb3VuZFwifVxuICAgICAgICAgICAgICB4PXtcIjUwJVwifSB5PXtcIjUwJVwifSBcbiAgICAgICAgICAgICAgZHk9e2Akey0wLjUgKiAobGVuZ3RoIC0gMSkgKyBpbmRleH1lbWB9XG4gICAgICAgICAgICAgIGRvbWluYW50QmFzZWxpbmU9XCJtaWRkbGVcIiB0ZXh0QW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgICAgZmlsbD17XCJ1cmwoI2Nyb3NzRGlhZ29uYWxIYXRjaClcIn1cbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezB9XG4gICAgICAgICAgICAgIHN0eWxlPXt7Zm9udFNpemU6IGAke2ZvbnRTaXplfXZ3YH19XG4gICAgICAgICAgICA+e2xpbmV9PC90ZXh0PlxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICkpfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmNsYXNzIEhhdGNoUGF0dGVybiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cdHJlbmRlcigpIHtcbiAgXHRjb25zdCB7c3BhY2luZz00LCBhbmdsZT00NSwgcmFpbmJvdz10cnVlLCBuYW1lfSA9IHRoaXMucHJvcHM7XG4gICAgXG4gIFx0cmV0dXJuIChcbiAgICBcdDxwYXR0ZXJuIFxuICAgICAgICBpZD17bmFtZX0gd2lkdGg9e3NwYWNpbmd9IGhlaWdodD17c3BhY2luZ31cbiAgICAgICAgY2xhc3NOYW1lPXtyYWluYm93ID8gXCJyYWluYm93XCIgOiBcIlwifVxuICAgICAgICB4PXtcIjUwJVwifSB5PXtcIjUwJVwifVxuICAgICAgICBwYXR0ZXJuVHJhbnNmb3JtPXtgcm90YXRlKCR7YW5nbGV9IDAgMClgfSBcbiAgICAgICAgcGF0dGVyblVuaXRzPXtcInVzZXJTcGFjZU9uVXNlXCJ9PlxuICAgICAgICAgIHsvKjxyZWN0IFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcInBhdHRlcm4tYmFja2dyb3VuZFwifVxuICAgICAgICAgICAgeD17LTF9IHk9ey0xfSB3aWR0aD17c3BhY2luZyAqIDJ9IGhlaWdodD17c3BhY2luZyAqIDJ9IFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3NwYWNpbmd9IC8+Ki99XG4gICAgICAgICAgPGxpbmUgXG4gICAgICAgICAgICBjbGFzc05hbWU9e1wicGF0dGVybi1mb3JlZ3JvdW5kXCJ9XG4gICAgICAgICAgICB4MT17MH0geTE9ezB9IHgyPXswfSB5Mj17c3BhY2luZ30gXG4gICAgICAgICAgICBzdHlsZT17e3N0cm9rZVdpZHRoOiBzcGFjaW5nfX0gLz5cbiAgICAgIDwvcGF0dGVybj5cbiAgICApO1xuICB9XG59XG5cbmNsYXNzIFNsaWRlckljb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuc3RhdGljIGNvbnRlbnQgPSA8c3ZnIGhlaWdodD1cIjE2cHRcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiA+PHBhdGggY2xhc3NOYW1lPVwic2xpZGVyLWljb25cIiBkPVwibTAgNThjMC0xMS4wNDY4NzUgOC45NTMxMjUtMjAgMjAtMjBoNTZ2LTE4YzAtMTEuMDQ2ODc1IDguOTUzMTI1LTIwIDIwLTIwczIwIDguOTUzMTI1IDIwIDIwdjE4aDM3NmMxMS4wNDY4NzUgMCAyMCA4Ljk1MzEyNSAyMCAyMHMtOC45NTMxMjUgMjAtMjAgMjBoLTM3NnYxOGMwIDExLjA0Njg3NS04Ljk1MzEyNSAyMC0yMCAyMHMtMjAtOC45NTMxMjUtMjAtMjB2LTE4aC01NmMtMTEuMDQ2ODc1IDAtMjAtOC45NTMxMjUtMjAtMjB6bTQ5MiAzNzZoLTU2di0xOGMwLTExLjA0Njg3NS04Ljk1MzEyNS0yMC0yMC0yMHMtMjAgOC45NTMxMjUtMjAgMjB2MThoLTM3NmMtMTEuMDQ2ODc1IDAtMjAgOC45NTMxMjUtMjAgMjBzOC45NTMxMjUgMjAgMjAgMjBoMzc2djE4YzAgMTEuMDQ2ODc1IDguOTUzMTI1IDIwIDIwIDIwczIwLTguOTUzMTI1IDIwLTIwdi0xOGg1NmMxMS4wNDY4NzUgMCAyMC04Ljk1MzEyNSAyMC0yMHMtOC45NTMxMjUtMjAtMjAtMjB6bTAtMTk4aC0yMTZ2LTE4YzAtMTEuMDQ2ODc1LTguOTUzMTI1LTIwLTIwLTIwcy0yMCA4Ljk1MzEyNS0yMCAyMHYxOGgtMjE2Yy0xMS4wNDY4NzUgMC0yMCA4Ljk1MzEyNS0yMCAyMHM4Ljk1MzEyNSAyMCAyMCAyMGgyMTZ2MThjMCAxMS4wNDY4NzUgOC45NTMxMjUgMjAgMjAgMjBzMjAtOC45NTMxMjUgMjAtMjB2LTE4aDIxNmMxMS4wNDY4NzUgMCAyMC04Ljk1MzEyNSAyMC0yMHMtOC45NTMxMjUtMjAtMjAtMjB6bTAgMFwiLz48L3N2Zz47XG4gIFxuICByZW5kZXIoKSB7XG4gIFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29udGVudDtcbiAgfVxufVxuXG5SZWFjdERPTS5yZW5kZXIoPEFwcCAvPiwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcHBcIikpO1xuXG5cblxuICAvL11dPiJdfQ==</script>

  </head>
<body>
    

  <div id="app"></div>
  <script>
ReactDOM.render(React.createElement(App, null), document.querySelector("#app"));
  </script>
  </body></html>
